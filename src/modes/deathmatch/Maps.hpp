#pragma once

#include "WeaponSet.hpp"

#include <player.hpp>
#include <random>
#include <ranges>
#include <types.hpp>
#include <string>

namespace Modes::Deathmatch
{
struct Map
{
	std::string name;
	WeaponSet weaponSet;
	std::vector<Vector4> spawnPoints;
	unsigned int interiorID;
};

inline const std::vector<Map> MAPS
	= { Map { "Warehouse", WeaponSet::Value::Custom,
			{ Vector4(1414.5516, 4.6239, 1000.9268, 128.4280),
				Vector4(1417.2053, -46.5737, 1000.9283, 48.2808),
				Vector4(1360.9740, -46.6919, 1000.9244, 313.2722),
				Vector4(1360.8347, 4.7643, 1000.9219, 228.4570),
				Vector4(1389.2506, -45.9371, 1000.9233, 359.7902),
				Vector4(1389.3759, 3.1373, 1000.9202, 179.6538),
				Vector4(1416.4523, -22.2726, 1000.9262, 89.6331),
				Vector4(1361.4375, -22.0564, 1000.9219, 270.9173),
				Vector4(1400.3206, 5.1543, 1000.9063, 178.5808),
				Vector4(1417.2998, -35.7352, 1000.9266, 88.8950) },
			1 },
		  Map { "Ring Field", WeaponSet::Value::Custom,
			  { Vector4(-1396.3981, 1283.9219, 1039.8672, 181.6719),
				  Vector4(-1396.2659, 1207.9017, 1039.8672, 357.3230),
				  Vector4(-1358.9507, 1250.9731, 1039.8741, 100.4886),
				  Vector4(-1433.1349, 1236.1152, 1039.8672, 287.7691),
				  Vector4(-1409.4696, 1262.8011, 1039.8672, 216.7448),
				  Vector4(-1388.5048, 1226.3890, 1039.8672, 29.1890),
				  Vector4(-1418.2367, 1245.0210, 1039.8741, 271.4718),
				  Vector4(-1375.2740, 1247.9946, 1039.8741, 94.7755),
				  Vector4(-1380.9899, 1280.6962, 1039.8672, 155.3930),
				  Vector4(-1417.8008, 1241.5735, 1039.8672, 281.6578) },
			  16 },
		  Map { "LV Stadium", WeaponSet::Value::Custom,
			  { Vector4(1319.3286, 2149.3997, 11.0234, 271.9872),
				  Vector4(1340.7544, 2123.7197, 11.0156, 359.6096),
				  Vector4(1351.9731, 2153.7598, 11.0156, 116.8875),
				  Vector4(1333.7542, 2183.2749, 11.0234, 170.2984),
				  Vector4(1363.3264, 2179.0955, 11.0156, 142.5563),
				  Vector4(1375.4023, 2159.6951, 11.0234, 104.0311),
				  Vector4(1378.8387, 2128.1128, 11.0156, 49.3480),
				  Vector4(1363.0563, 2112.4221, 11.0156, 20.9194),
				  Vector4(1323.2822, 2116.7012, 11.0156, 319.8592),
				  Vector4(1354.5396, 2156.7681, 11.0156, 120.0813) },
			  0 },
		  Map { "SF Airport", WeaponSet::Value::Custom,
			  { Vector4(-1337.2507, -222.3434, 14.1484, 134.1226),
				  Vector4(-1363.8214, -217.9454, 14.1484, 238.0323),
				  Vector4(-1347.5962, -191.1134, 14.1484, 181.1161),
				  Vector4(-1335.8680, -269.5921, 14.1484, 6.0129),
				  Vector4(-1298.6554, -252.5999, 14.1484, 73.3989),
				  Vector4(-1372.7682, -240.4792, 14.1484, 293.4781),
				  Vector4(-1381.4386, -210.6650, 14.1484, 234.2769),
				  Vector4(-1312.9211, -209.9852, 14.1484, 131.0245),
				  Vector4(-1346.5516, -246.0815, 14.1484, 19.1577),
				  Vector4(-1324.3361, -271.1564, 14.1484, 27.9426) },
			  0 },
		  Map { "LVPD", WeaponSet::Value::DSS,
			  { Vector4(299.4724, 174.9242, 1007.1719, 87.2871),
				  Vector4(288.9121, 168.9562, 1007.1719, 358.4165),
				  Vector4(238.6571, 141.5917, 1003.0234, 359.2137),
				  Vector4(245.8961, 161.3072, 1003.0234, 180.4012),
				  Vector4(236.5853, 176.6271, 1003.0300, 269.1641),
				  Vector4(246.2208, 142.4113, 1003.0234, 1.2939),
				  Vector4(238.7483, 193.5237, 1008.1719, 179.6247),
				  Vector4(257.6930, 170.9933, 1003.0234, 0.4785),
				  Vector4(230.9187, 155.1859, 1003.0234, 270.4379),
				  Vector4(285.6923, 187.2119, 1007.1719, 179.0751) },
			  3 },
		  Map { "Las Payasadas", WeaponSet::Value::DSS,
			  { Vector4(-220.7932, 2694.2483, 62.6875, 63.1151),
				  Vector4(-238.1716, 2671.8828, 62.6486, 359.2390),
				  Vector4(-269.6422, 2674.2009, 62.6599, 296.8002),
				  Vector4(-274.6739, 2719.4917, 62.6431, 262.7856),
				  Vector4(-240.4296, 2710.6516, 62.6875, 181.9576),
				  Vector4(-280.5053, 2691.4756, 62.6875, 1.4182),
				  Vector4(-208.1990, 2709.9153, 62.6875, 129.9527),
				  Vector4(-215.6638, 2678.2134, 62.6269, 52.3706),
				  Vector4(-247.2964, 2728.0576, 62.6875, 130.8242),
				  Vector4(-257.1337, 2669.6890, 62.5391, 359.3181) },
			  0 },
		  Map { "Farm", WeaponSet::Value::DSS,
			  { Vector4(-1464.1337, -1592.4607, 101.7578, 359.6960),
				  Vector4(-1466.2347, -1540.5929, 101.7578, 187.1610),
				  Vector4(-1444.0090, -1564.9728, 101.7578, 359.4321),
				  Vector4(-1421.3589, -1589.1490, 101.7578, 355.7249),
				  Vector4(-1410.7145, -1525.6005, 101.7223, 83.9516),
				  Vector4(-1447.0964, -1523.5198, 101.7578, 272.5328),
				  Vector4(-1429.2151, -1486.1862, 101.6719, 356.1980),
				  Vector4(-1415.3947, -1455.1403, 101.7070, 177.0410),
				  Vector4(-1447.2711, -1448.2245, 101.7578, 94.6971),
				  Vector4(-1466.9590, -1482.0819, 101.7578, 353.2368) },
			  0 },
		  Map { "Ghost Town", WeaponSet::Value::DSS,
			  { Vector4(-357.7768, 2200.6501, 42.4844, 68.5869),
				  Vector4(-391.3913, 2211.2654, 42.4247, 283.3254),
				  Vector4(-359.9780, 2245.0928, 42.4844, 155.9886),
				  Vector4(-350.8064, 2231.5549, 42.4844, 109.0340),
				  Vector4(-421.3750, 2223.4063, 42.4297, 357.7113),
				  Vector4(-433.3973, 2252.4370, 42.4297, 273.7369),
				  Vector4(-409.0528, 2263.3994, 42.3388, 252.4788),
				  Vector4(-374.8264, 2275.2446, 41.5581, 140.9663),
				  Vector4(-450.9992, 2229.4265, 42.4297, 271.2473),
				  Vector4(-379.4835, 2241.8538, 42.4654, 103.2903) },
			  0 },
		  Map { "Giant Bridge", WeaponSet::Value::DSS,
			  { Vector4(-2664.6721, 1574.4155, 63.4105, 32.8205),
				  Vector4(-2699.3940, 1582.3087, 63.8183, 290.4163),
				  Vector4(-2694.3259, 1616.1650, 65.0136, 241.4196),
				  Vector4(-2693.7964, 1646.2327, 66.1285, 197.7371),
				  Vector4(-2676.4861, 1658.2721, 66.4960, 169.7844),
				  Vector4(-2665.6870, 1642.2606, 66.3926, 143.6387),
				  Vector4(-2667.0686, 1614.6425, 65.3280, 112.9227),
				  Vector4(-2689.1353, 1581.8761, 63.3958, 344.7447),
				  Vector4(-2677.8542, 1592.5187, 63.9423, 5.2043),
				  Vector4(-2685.2051, 1629.7722, 65.5520, 204.5566) },
			  0 },
		  Map { "Doherty arena", WeaponSet::Value::Run,
			  { Vector4(-2088.9097, -120.3423, 35.3203, 234.6465),
				  Vector4(-2064.7639, -115.5756, 35.3275, 189.5348),
				  Vector4(-2029.9229, -121.9816, 35.1865, 165.6863),
				  Vector4(-2014.3951, -144.5360, 35.3203, 96.1237),
				  Vector4(-2014.8440, -183.5804, 35.3203, 51.4308),
				  Vector4(-2055.3672, -183.7127, 35.3274, 340.4850),
				  Vector4(-2087.3098, -171.2415, 35.3203, 297.8173),
				  Vector4(-2092.9788, -139.3545, 35.3203, 272.8379),
				  Vector4(-2060.3838, -168.9158, 35.3203, 329.0209),
				  Vector4(-2030.0781, -162.8758, 35.3203, 73.6097) },
			  0 },
		  Map { "Stock", WeaponSet::Value::Run,
			  { Vector4(2154.3611, -2317.5474, 13.5547, 316.7491),
				  Vector4(2170.9451, -2326.2656, 13.5469, 315.8425),
				  Vector4(2194.3650, -2278.9270, 13.5469, 126.3420),
				  Vector4(2212.4275, -2284.5522, 14.7647, 204.4604),
				  Vector4(2137.9636, -2303.6912, 14.7032, 31.4663),
				  Vector4(2116.2568, -2275.2014, 20.6760, 221.6783),
				  Vector4(2197.6309, -2244.0100, 13.5469, 221.5363),
				  Vector4(2187.4397, -2336.2515, 13.5469, 313.1703),
				  Vector4(2204.0071, -2269.0598, 13.5547, 44.9091),
				  Vector4(2173.4231, -2256.8596, 13.3049, 314.6228) },
			  0 },
		  Map { "Easter Basin Rooftop", WeaponSet::Value::Run,
			  { Vector4(-1362.7272, 437.4537, 30.0859, 147.6137),
				  Vector4(-1360.3759, 409.3851, 30.0859, 91.1243),
				  Vector4(-1376.8606, 375.8726, 30.0859, 39.6804),
				  Vector4(-1406.8551, 361.0014, 30.0859, 349.0385),
				  Vector4(-1432.2717, 351.1898, 30.0820, 322.4145),
				  Vector4(-1459.4817, 375.9736, 30.0859, 274.5866),
				  Vector4(-1453.8860, 410.9463, 30.0859, 243.7638),
				  Vector4(-1427.0760, 431.3804, 30.0820, 203.2710),
				  Vector4(-1400.2087, 386.7837, 30.0859, 2.0251),
				  Vector4(-1424.0820, 412.3617, 30.0859, 243.4635) },
			  0 },
		  Map { "Whetstone Road", WeaponSet::Value::Run,
			  { Vector4(-2375.8589, -2266.0613, 15.0003, 111.2989),
				  Vector4(-2439.6248, -2252.4739, 16.2108, 170.0751),
				  Vector4(-2428.7942, -2291.4900, 14.2496, 99.3900),
				  Vector4(-2445.3066, -2329.6187, 17.3537, 348.4402),
				  Vector4(-2483.4590, -2302.3887, 14.9189, 285.8340),
				  Vector4(-2460.2986, -2315.2051, 15.6681, 324.8022),
				  Vector4(-2451.8000, -2277.3826, 15.1434, 189.6140),
				  Vector4(-2388.5588, -2307.3735, 18.3021, 62.7090),
				  Vector4(-2528.1494, -2323.8362, 15.1087, 301.1732),
				  Vector4(-2520.2212, -2280.5820, 18.1739, 248.7195) },
			  0 },
		  Map { "Fallen Tree Parking", WeaponSet::Value::Run,
			  { Vector4(-479.0541, -539.1681, 25.5296, 81.3232),
				  Vector4(-468.3940, -524.4255, 25.5178, 86.5299),
				  Vector4(-469.1670, -476.1770, 25.5178, 177.5100),
				  Vector4(-513.0154, -502.5681, 25.5234, 358.4744),
				  Vector4(-501.8684, -518.2702, 25.5234, 269.8329),
				  Vector4(-513.8507, -541.3474, 25.5234, 268.6314),
				  Vector4(-533.4074, -561.2506, 25.5234, 280.2313),
				  Vector4(-481.2384, -560.0458, 25.5234, 87.8050),
				  Vector4(-525.2653, -470.8855, 25.5234, 179.9183),
				  Vector4(-498.9527, -471.1724, 25.5234, 178.6956) },
			  0 },
		  Map { "Flint County", WeaponSet::Value::Run,
			  { Vector4(-1046.2974, -1036.3849, 129.2188, 39.7382),
				  Vector4(-1083.0997, -1033.8065, 129.2188, 330.7114),
				  Vector4(-1070.4073, -954.9988, 129.2188, 176.0641),
				  Vector4(-1116.9880, -970.1390, 129.2188, 221.4494),
				  Vector4(-1153.5988, -988.6865, 129.2188, 247.8054),
				  Vector4(-1146.1119, -1023.9016, 129.2188, 279.5291),
				  Vector4(-1105.1584, -993.6157, 129.2188, 185.5233),
				  Vector4(-1068.4861, -1000.4864, 129.2188, 104.4806),
				  Vector4(-1131.7456, -998.3164, 129.2188, 255.1562),
				  Vector4(-1086.0824, -1048.8286, 129.2119, 358.0050) },
			  0 },
		  Map { "Blubery Acres", WeaponSet::Value::Run,
			  { Vector4(0.5986, -325.9309, 5.4297, 89.4139),
				  Vector4(-18.9729, -271.3143, 5.4297, 174.4579),
				  Vector4(6.6557, -265.8664, 5.4297, 91.1144),
				  Vector4(-37.9250, -299.9831, 5.4297, 265.7206),
				  Vector4(-38.8894, -321.6505, 5.4297, 356.4684),
				  Vector4(-49.9406, -287.9224, 5.4297, 179.1873),
				  Vector4(1.5959, -286.9247, 5.4297, 87.4288),
				  Vector4(-36.9697, -270.7830, 5.9969, 269.8817),
				  Vector4(2.4274, -343.5344, 5.4297, 88.2433),
				  Vector4(-63.1552, -311.1392, 5.4297, 271.2632) },
			  0 },
		  Map { "Creek Rooftop", WeaponSet::Value::Run,
			  { Vector4(2831.9402, 2545.8076, 17.6719, 179.1057),
				  Vector4(2809.5103, 2529.2373, 17.6719, 229.4988),
				  Vector4(2794.1064, 2503.0840, 17.6719, 305.2764),
				  Vector4(2810.8425, 2485.5430, 17.6719, 331.3152),
				  Vector4(2831.9353, 2476.1226, 17.6719, 10.2651),
				  Vector4(2860.3074, 2495.1750, 17.6719, 47.1979),
				  Vector4(2872.8401, 2513.5723, 17.6719, 48.0607),
				  Vector4(2851.7847, 2534.3271, 17.6719, 135.0506),
				  Vector4(2835.6328, 2509.0266, 17.6719, 1.4988),
				  Vector4(2837.4556, 2534.5332, 17.6719, 174.8634) },
			  0 },
		  Map { "Yellow Bell Station", WeaponSet::Value::Run,
			  { Vector4(1433.4668, 2611.3757, 10.8203, 179.2503),
				  Vector4(1458.1959, 2575.9417, 10.8203, 0.4316),
				  Vector4(1442.3243, 2574.8352, 10.8203, 0.1644),
				  Vector4(1433.6724, 2576.9612, 10.8203, 359.2567),
				  Vector4(1404.5973, 2578.1643, 10.8265, 0.5357),
				  Vector4(1376.8555, 2576.6326, 10.8203, 357.9853),
				  Vector4(1360.5013, 2589.8772, 10.6797, 269.5036),
				  Vector4(1385.7072, 2558.8826, 10.6719, 0.1635),
				  Vector4(1475.6853, 2589.7058, 11.0477, 88.9318),
				  Vector4(1418.0419, 2572.6223, 10.8203, 0.3416) },
			  0 },
		  Map { "Bone County", WeaponSet::Value::Run,
			  { Vector4(8.0681, 1482.9569, 12.7500, 358.1661),
				  Vector4(-23.8142, 1497.3480, 12.7500, 293.7609),
				  Vector4(-33.5178, 1535.9563, 12.7500, 257.5161),
				  Vector4(-5.6184, 1561.8085, 12.7500, 194.3823),
				  Vector4(35.2320, 1558.5900, 12.7560, 161.1684),
				  Vector4(53.2937, 1530.5444, 12.7560, 100.4836),
				  Vector4(33.2828, 1487.5865, 12.7500, 39.6855),
				  Vector4(-18.2867, 1516.2675, 12.7500, 301.7484),
				  Vector4(8.9478, 1548.3992, 12.7560, 185.6317),
				  Vector4(18.5731, 1506.9758, 12.7560, 19.4044) },
			  0 } };

inline const Map randomlySelectMap(WeaponSet set)
{
	std::random_device rd;
	std::mt19937 gen(rd());

	auto mapSet = MAPS
		| std::ranges::views::filter(
			[&](Map map)
			{
				return map.weaponSet == set;
			});
	std::uniform_int_distribution<> dis(0, mapSet.base().size() - 1);
	return mapSet.base()[dis(rd)];
};
};